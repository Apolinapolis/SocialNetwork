"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[944],{2944:(s,e,t)=>{t.r(e),t.d(e,{default:()=>N});var r=t(5043),o=t(2557);const i="Post_item__Yu4oG";var l=t(579);const n=s=>(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("img",{src:"https://android-obzor.com/wp-content/uploads/2022/03/28e4ac42f547e6ac0f50f7cfa916ca93.jpg",alt:"ops!"}),s.message,(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{id:"likesBtn",children:"LIKE"}),(0,l.jsx)("span",{children:"  "+s.likesCount+" Likes"})]})]}),a="myPosts_postsBlock__RhOud",d="myPosts_posts__OTqaL";var c=t(5303),u=t(5963),h=t(3842),p=t(6634);const x=s=>{let e=[...s.posts].reverse().map((s=>(0,l.jsx)(n,{message:s.message,likesCount:s.likesCount},s.id))),t=(0,p.d)(10);const r=(0,h.A)({form:"profileAddNewPostForm"})((s=>(0,l.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,l.jsx)("div",{children:(0,l.jsx)(u.A,{name:"myPostText",component:c.TM,validate:[p.m,t],placeholder:"cool"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{children:" Add Post "}),(0,l.jsx)("button",{children:" Post remove "})]})]})));return(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)("h3",{children:"My Super Posts"}),(0,l.jsx)(r,{onSubmit:e=>s.addPost(e.myPostText)}),(0,l.jsx)("div",{className:d,children:e})]})};var j=t(3003);const f=(0,j.Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>s((0,o.oL)(e))})))(x);var m=t(9059);const v="ProfileInfo_description__u7GZ5",b="ProfileInfo_contacts__hKq1Z",g="ProfileInfo_formSummaryError__YIVIc",P=s=>{let[e,t]=(0,r.useState)(!1),[o,i]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{i(s.status)}),[s.status]);return(0,l.jsxs)("div",{children:[!e&&(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Status:"}),(0,l.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status+"..."})]}),e&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},value:o,autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(o)}})})]})};var k=t(7965);const S=(0,h.A)({form:"edit-profile"})((s=>{let{handleSubmit:e,profile:t,error:r}=s;return(0,l.jsxs)("form",{onSubmit:e,children:[(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:(0,l.jsx)("i",{children:"Save"})})}),r&&(0,l.jsx)("div",{className:g,children:r}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Full name"}),": ",(0,c.Fo)("fullName","fullName",[],c.pd)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"looking for a job"}),": ",(0,c.Fo)("","lookingForAJob",[],c.pd,{type:"checkbox"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"My skills"}),": ",(0,c.Fo)("My professional skills","lookingForAJobDescription",[],c.TM)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"About me"}),": ",(0,c.Fo)("About me","AboutMe",[],c.TM)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((s=>(0,l.jsx)("div",{className:b,children:(0,l.jsxs)("b",{children:[s,": ",(0,c.Fo)(s,"contacts."+s,[],c.pd)]})},s)))]})]})})),_=s=>{let{profile:e,isOwner:t,goToEditMode:r}=s;return(0,l.jsxs)("div",{children:[t&&(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:r,children:(0,l.jsx)("i",{children:"Edit Mode"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Full name"}),": ",e.fullName]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"looking for a job"}),": ",e.lookingForAJob?"yes":"no"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"My skills"}),": ",e.lookingForAJobDescription]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((s=>(0,l.jsx)(A,{contactTitle:s,contactValue:e.contacts[s]},s)))]})]})},A=s=>{let{contactTitle:e,contactValue:t}=s;return(0,l.jsxs)("div",{className:b,children:[(0,l.jsx)("b",{children:e}),": ",t]})},y=s=>{let{profile:e,status:t,updateStatus:o,isOwner:i,savePhoto:n,saveProfile:a}=s,[d,c]=(0,r.useState)(!1);if(!e)return(0,l.jsx)(m.A,{});return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:"https://images.wallpaperscraft.ru/image/single/listia_rastenie_makro_208778_1920x1080.jpg",alt:"xxx"})}),(0,l.jsxs)("div",{className:v,children:[(0,l.jsx)("img",{src:e.photos.large||k,alt:"ProfileInfo"}),i&&(0,l.jsx)("input",{type:"file",onChange:s=>{s.target.files.length&&n(s.target.files[0])}}),d?(0,l.jsx)(S,{initialValues:e,onSubmit:s=>{a(s).then((()=>{c(!1)}))},profile:e}):(0,l.jsx)(_,{profile:e,isOwner:i,goToEditMode:()=>{c(!0)}}),(0,l.jsx)(P,{status:t,updateStatus:o})]})]})},I=s=>(0,l.jsxs)("div",{children:[(0,l.jsx)(y,{savePhoto:s.savePhoto,profile:s.profile,status:s.status,updateStatus:s.updateStatus,saveProfile:s.saveProfile,isOwner:s.isOwner}),(0,l.jsx)(f,{})]});var M=t(3216),w=t(3923);class F extends r.Component{refreshProfile(){let s=this.props.router.params.userId;s||(s=this.props.autorizedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e,t){this.props.router.params.userId!=s.router.params.userId&&this.refreshProfile()}render(){return(0,l.jsx)(I,{...this.props,isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})}}const N=(0,w.Zz)((0,j.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,autorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{saveProfile:o.Lt,getUserProfile:o.VM,getStatus:o.BS,updateStatus:o.yB,savePhoto:o.Ah}),(function(s){return function(e){let t=(0,M.zy)(),o=(0,M.Zp)(),i=(0,M.g)();return(0,r.useEffect)((()=>{e.isAuth||o("/Profile")}),[e.isAuth,o]),(0,l.jsx)(s,{...e,router:{location:t,navigate:o,params:i}})}}))(F)}}]);
//# sourceMappingURL=944.7a3e18a5.chunk.js.map